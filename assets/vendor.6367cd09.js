function ee(){}function tt(a){return a()}function Je(){return Object.create(null)}function ae(a){a.forEach(tt)}function an(a){return typeof a=="function"}function fn(a,d){return a!=a?d==d:a!==d||a&&typeof a=="object"||typeof a=="function"}function un(a){return Object.keys(a).length===0}function nt(a,...d){if(a==null)return ee;const m=a.subscribe(...d);return m.unsubscribe?()=>m.unsubscribe():m}function sn(a){let d;return nt(a,m=>d=m)(),d}function wn(a,d,m){a.$$.on_destroy.push(nt(d,m))}function En(a,d,m){return a.set(m),d}function Sn(a,d){a.appendChild(d)}function In(a,d,m){a.insertBefore(d,m||null)}function cn(a){a.parentNode.removeChild(a)}function Rn(a,d){for(let m=0;m<a.length;m+=1)a[m]&&a[m].d(d)}function An(a){return document.createElement(a)}function rt(a){return document.createTextNode(a)}function xn(){return rt(" ")}function Nn(){return rt("")}function Tn(a,d,m,E){return a.addEventListener(d,m,E),()=>a.removeEventListener(d,m,E)}function Dn(a,d,m){m==null?a.removeAttribute(d):a.getAttribute(d)!==m&&a.setAttribute(d,m)}function ln(a){return Array.from(a.childNodes)}function Bn(a,d){d=""+d,a.wholeText!==d&&(a.data=d)}function Cn(a,d,m){a.classList[m?"add":"remove"](d)}let Te;function ie(a){Te=a}const oe=[],qe=[],ve=[],Ze=[],dn=Promise.resolve();let xe=!1;function vn(){xe||(xe=!0,dn.then(ot))}function Ne(a){ve.push(a)}const Ae=new Set;let ce=0;function ot(){const a=Te;do{for(;ce<oe.length;){const d=oe[ce];ce++,ie(d),hn(d.$$)}for(ie(null),oe.length=0,ce=0;qe.length;)qe.pop()();for(let d=0;d<ve.length;d+=1){const m=ve[d];Ae.has(m)||(Ae.add(m),m())}ve.length=0}while(oe.length);for(;Ze.length;)Ze.pop()();xe=!1,Ae.clear(),ie(a)}function hn(a){if(a.fragment!==null){a.update(),ae(a.before_update);const d=a.dirty;a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,d),a.after_update.forEach(Ne)}}const he=new Set;let k;function On(){k={r:0,c:[],p:k}}function Ln(){k.r||ae(k.c),k=k.p}function mn(a,d){a&&a.i&&(he.delete(a),a.i(d))}function Pn(a,d,m,E){if(a&&a.o){if(he.has(a))return;he.add(a),k.c.push(()=>{he.delete(a),E&&(m&&a.d(1),E())}),a.o(d)}}function $n(a){a&&a.c()}function pn(a,d,m,E){const{fragment:D,on_mount:S,on_destroy:N,after_update:_}=a.$$;D&&D.m(d,m),E||Ne(()=>{const I=S.map(tt).filter(an);N?N.push(...I):ae(I),a.$$.on_mount=[]}),_.forEach(Ne)}function yn(a,d){const m=a.$$;m.fragment!==null&&(ae(m.on_destroy),m.fragment&&m.fragment.d(d),m.on_destroy=m.fragment=null,m.ctx=[])}function gn(a,d){a.$$.dirty[0]===-1&&(oe.push(a),vn(),a.$$.dirty.fill(0)),a.$$.dirty[d/31|0]|=1<<d%31}function Fn(a,d,m,E,D,S,N,_=[-1]){const I=Te;ie(a);const y=a.$$={fragment:null,ctx:null,props:S,update:ee,not_equal:D,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d.context||(I?I.$$.context:[])),callbacks:Je(),dirty:_,skip_bound:!1,root:d.target||I.$$.root};N&&N(y.root);let M=!1;if(y.ctx=m?m(a,d.props||{},(v,g,...B)=>{const C=B.length?B[0]:g;return y.ctx&&D(y.ctx[v],y.ctx[v]=C)&&(!y.skip_bound&&y.bound[v]&&y.bound[v](C),M&&gn(a,v)),g}):[],y.update(),M=!0,ae(y.before_update),y.fragment=E?E(y.ctx):!1,d.target){if(d.hydrate){const v=ln(d.target);y.fragment&&y.fragment.l(v),v.forEach(cn)}else y.fragment&&y.fragment.c();d.intro&&mn(a.$$.fragment),pn(a,d.target,d.anchor,d.customElement),ot()}ie(I)}class Mn{$destroy(){yn(this,1),this.$destroy=ee}$on(d,m){const E=this.$$.callbacks[d]||(this.$$.callbacks[d]=[]);return E.push(m),()=>{const D=E.indexOf(m);D!==-1&&E.splice(D,1)}}$set(d){this.$$set&&!un(d)&&(this.$$.skip_bound=!0,this.$$set(d),this.$$.skip_bound=!1)}}const Z=[];function _n(a,d=ee){let m;const E=new Set;function D(_){if(fn(a,_)&&(a=_,m)){const I=!Z.length;for(const y of E)y[1](),Z.push(y,a);if(I){for(let y=0;y<Z.length;y+=2)Z[y][0](Z[y+1]);Z.length=0}}}function S(_){D(_(a))}function N(_,I=ee){const y=[_,I];return E.add(y),E.size===1&&(m=d(D)||ee),_(a),()=>{E.delete(y),E.size===0&&(m(),m=null)}}return{set:D,update:S,subscribe:N}}var le=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function de(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var it={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(a,d){(function(m){a.exports=m()})(function(){return function m(E,D,S){function N(y,M){if(!D[y]){if(!E[y]){var v=typeof de=="function"&&de;if(!M&&v)return v(y,!0);if(_)return _(y,!0);var g=new Error("Cannot find module '"+y+"'");throw g.code="MODULE_NOT_FOUND",g}var B=D[y]={exports:{}};E[y][0].call(B.exports,function(C){var V=E[y][1][C];return N(V||C)},B,B.exports,m,E,D,S)}return D[y].exports}for(var _=typeof de=="function"&&de,I=0;I<S.length;I++)N(S[I]);return N}({1:[function(m,E,D){(function(S){var N=S.MutationObserver||S.WebKitMutationObserver,_;if(N){var I=0,y=new N(C),M=S.document.createTextNode("");y.observe(M,{characterData:!0}),_=function(){M.data=I=++I%2}}else if(!S.setImmediate&&typeof S.MessageChannel!="undefined"){var v=new S.MessageChannel;v.port1.onmessage=C,_=function(){v.port2.postMessage(0)}}else"document"in S&&"onreadystatechange"in S.document.createElement("script")?_=function(){var P=S.document.createElement("script");P.onreadystatechange=function(){C(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},S.document.documentElement.appendChild(P)}:_=function(){setTimeout(C,0)};var g,B=[];function C(){g=!0;for(var P,Q,$=B.length;$;){for(Q=B,B=[],P=-1;++P<$;)Q[P]();$=B.length}g=!1}E.exports=V;function V(P){B.push(P)===1&&!g&&_()}}).call(this,typeof le!="undefined"?le:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(m,E,D){var S=m(1);function N(){}var _={},I=["REJECTED"],y=["FULFILLED"],M=["PENDING"];E.exports=v;function v(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,h!==N&&V(this,h)}v.prototype.catch=function(h){return this.then(null,h)},v.prototype.then=function(h,R){if(typeof h!="function"&&this.state===y||typeof R!="function"&&this.state===I)return this;var w=new this.constructor(N);if(this.state!==M){var T=this.state===y?h:R;B(w,T,this.outcome)}else this.queue.push(new g(w,h,R));return w};function g(h,R,w){this.promise=h,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(h){_.resolve(this.promise,h)},g.prototype.otherCallFulfilled=function(h){B(this.promise,this.onFulfilled,h)},g.prototype.callRejected=function(h){_.reject(this.promise,h)},g.prototype.otherCallRejected=function(h){B(this.promise,this.onRejected,h)};function B(h,R,w){S(function(){var T;try{T=R(w)}catch(F){return _.reject(h,F)}T===h?_.reject(h,new TypeError("Cannot resolve promise with itself")):_.resolve(h,T)})}_.resolve=function(h,R){var w=P(C,R);if(w.status==="error")return _.reject(h,w.value);var T=w.value;if(T)V(h,T);else{h.state=y,h.outcome=R;for(var F=-1,U=h.queue.length;++F<U;)h.queue[F].callFulfilled(R)}return h},_.reject=function(h,R){h.state=I,h.outcome=R;for(var w=-1,T=h.queue.length;++w<T;)h.queue[w].callRejected(R);return h};function C(h){var R=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof R=="function")return function(){R.apply(h,arguments)}}function V(h,R){var w=!1;function T(z){w||(w=!0,_.reject(h,z))}function F(z){w||(w=!0,_.resolve(h,z))}function U(){R(F,T)}var Y=P(U);Y.status==="error"&&T(Y.value)}function P(h,R){var w={};try{w.value=h(R),w.status="success"}catch(T){w.status="error",w.value=T}return w}v.resolve=Q;function Q(h){return h instanceof this?h:_.resolve(new this(N),h)}v.reject=$;function $(h){var R=new this(N);return _.reject(R,h)}v.all=me;function me(h){var R=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,T=!1;if(!w)return this.resolve([]);for(var F=new Array(w),U=0,Y=-1,z=new this(N);++Y<w;)j(h[Y],Y);return z;function j(te,fe){R.resolve(te).then(pe,function(J){T||(T=!0,_.reject(z,J))});function pe(J){F[fe]=J,++U===w&&!T&&(T=!0,_.resolve(z,F))}}}v.race=K;function K(h){var R=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,T=!1;if(!w)return this.resolve([]);for(var F=-1,U=new this(N);++F<w;)Y(h[F]);return U;function Y(z){R.resolve(z).then(function(j){T||(T=!0,_.resolve(U,j))},function(j){T||(T=!0,_.reject(U,j))})}}},{"1":1}],3:[function(m,E,D){(function(S){typeof S.Promise!="function"&&(S.Promise=m(2))}).call(this,typeof le!="undefined"?le:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(m,E,D){var S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function N(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var I=_();function y(){try{if(!I||!I.open)return!1;var e=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function M(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(r){if(r.name!=="TypeError")throw r;for(var t=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,o=new t,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}typeof Promise=="undefined"&&m(3);var v=Promise;function g(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function B(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function C(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function V(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",Q=void 0,$={},me=Object.prototype.toString,K="readonly",h="readwrite";function R(e){for(var n=e.length,t=new ArrayBuffer(n),o=new Uint8Array(t),i=0;i<n;i++)o[i]=e.charCodeAt(i);return t}function w(e){return new v(function(n){var t=e.transaction(P,h),o=M([""]);t.objectStore(P).put(o,"key"),t.onabort=function(i){i.preventDefault(),i.stopPropagation(),n(!1)},t.oncomplete=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);n(r||!i||parseInt(i[1],10)>=43)}}).catch(function(){return!1})}function T(e){return typeof Q=="boolean"?v.resolve(Q):w(e).then(function(n){return Q=n,Q})}function F(e){var n=$[e.name],t={};t.promise=new v(function(o,i){t.resolve=o,t.reject=i}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function U(e){var n=$[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function Y(e,n){var t=$[e.name],o=t.deferredOperations.pop();if(o)return o.reject(n),o.promise}function z(e,n){return new v(function(t,o){if($[e.name]=$[e.name]||Be(),e.db)if(n)F(e),e.db.close();else return t(e.db);var i=[e.name];n&&i.push(e.version);var r=I.open.apply(I,i);n&&(r.onupgradeneeded=function(f){var u=r.result;try{u.createObjectStore(e.storeName),f.oldVersion<=1&&u.createObjectStore(P)}catch(s){if(s.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+f.oldVersion+" to version "+f.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw s}}),r.onerror=function(f){f.preventDefault(),o(r.error)},r.onsuccess=function(){var f=r.result;f.onversionchange=function(u){u.target.close()},t(f),U(e)}})}function j(e){return z(e,!1)}function te(e){return z(e,!0)}function fe(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,i=e.version>e.db.version;if(o&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||t){if(t){var r=e.db.version+1;r>e.version&&(e.version=r)}return!0}return!1}function pe(e){return new v(function(n,t){var o=new FileReader;o.onerror=t,o.onloadend=function(i){var r=btoa(i.target.result||"");n({__local_forage_encoded_blob:!0,data:r,type:e.type})},o.readAsBinaryString(e)})}function J(e){var n=R(atob(e.data));return M([n],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function at(e){var n=this,t=n._initReady().then(function(){var o=$[n._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return B(t,e,e),t}function ft(e){F(e);for(var n=$[e.name],t=n.forages,o=0;o<t.length;o++){var i=t[o];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,j(e).then(function(r){return e.db=r,fe(e)?te(e):r}).then(function(r){e.db=n.db=r;for(var f=0;f<t.length;f++)t[f]._dbInfo.db=r}).catch(function(r){throw Y(e,r),r})}function G(e,n,t,o){o===void 0&&(o=1);try{var i=e.db.transaction(e.storeName,n);t(null,i)}catch(r){if(o>0&&(!e.db||r.name==="InvalidStateError"||r.name==="NotFoundError"))return v.resolve().then(function(){if(!e.db||r.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),te(e)}).then(function(){return ft(e).then(function(){G(e,n,t,o-1)})}).catch(t);t(r)}}function Be(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ut(e){var n=this,t={db:null};if(e)for(var o in e)t[o]=e[o];var i=$[t.name];i||(i=Be(),$[t.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=at);var r=[];function f(){return v.resolve()}for(var u=0;u<i.forages.length;u++){var s=i.forages[u];s!==n&&r.push(s._initReady().catch(f))}var c=i.forages.slice(0);return v.all(r).then(function(){return t.db=i.db,j(t)}).then(function(l){return t.db=l,fe(t,n._defaultConfig.version)?te(t):l}).then(function(l){t.db=i.db=l,n._dbInfo=t;for(var p=0;p<c.length;p++){var b=c[p];b!==n&&(b._dbInfo.db=t.db,b._dbInfo.version=t.version)}})}function st(e,n){var t=this;e=C(e);var o=new v(function(i,r){t.ready().then(function(){G(t._dbInfo,K,function(f,u){if(f)return r(f);try{var s=u.objectStore(t._dbInfo.storeName),c=s.get(e);c.onsuccess=function(){var l=c.result;l===void 0&&(l=null),De(l)&&(l=J(l)),i(l)},c.onerror=function(){r(c.error)}}catch(l){r(l)}})}).catch(r)});return g(o,n),o}function ct(e,n){var t=this,o=new v(function(i,r){t.ready().then(function(){G(t._dbInfo,K,function(f,u){if(f)return r(f);try{var s=u.objectStore(t._dbInfo.storeName),c=s.openCursor(),l=1;c.onsuccess=function(){var p=c.result;if(p){var b=p.value;De(b)&&(b=J(b));var A=e(b,p.key,l++);A!==void 0?i(A):p.continue()}else i()},c.onerror=function(){r(c.error)}}catch(p){r(p)}})}).catch(r)});return g(o,n),o}function lt(e,n,t){var o=this;e=C(e);var i=new v(function(r,f){var u;o.ready().then(function(){return u=o._dbInfo,me.call(n)==="[object Blob]"?T(u.db).then(function(s){return s?n:pe(n)}):n}).then(function(s){G(o._dbInfo,h,function(c,l){if(c)return f(c);try{var p=l.objectStore(o._dbInfo.storeName);s===null&&(s=void 0);var b=p.put(s,e);l.oncomplete=function(){s===void 0&&(s=null),r(s)},l.onabort=l.onerror=function(){var A=b.error?b.error:b.transaction.error;f(A)}}catch(A){f(A)}})}).catch(f)});return g(i,t),i}function dt(e,n){var t=this;e=C(e);var o=new v(function(i,r){t.ready().then(function(){G(t._dbInfo,h,function(f,u){if(f)return r(f);try{var s=u.objectStore(t._dbInfo.storeName),c=s.delete(e);u.oncomplete=function(){i()},u.onerror=function(){r(c.error)},u.onabort=function(){var l=c.error?c.error:c.transaction.error;r(l)}}catch(l){r(l)}})}).catch(r)});return g(o,n),o}function vt(e){var n=this,t=new v(function(o,i){n.ready().then(function(){G(n._dbInfo,h,function(r,f){if(r)return i(r);try{var u=f.objectStore(n._dbInfo.storeName),s=u.clear();f.oncomplete=function(){o()},f.onabort=f.onerror=function(){var c=s.error?s.error:s.transaction.error;i(c)}}catch(c){i(c)}})}).catch(i)});return g(t,e),t}function ht(e){var n=this,t=new v(function(o,i){n.ready().then(function(){G(n._dbInfo,K,function(r,f){if(r)return i(r);try{var u=f.objectStore(n._dbInfo.storeName),s=u.count();s.onsuccess=function(){o(s.result)},s.onerror=function(){i(s.error)}}catch(c){i(c)}})}).catch(i)});return g(t,e),t}function mt(e,n){var t=this,o=new v(function(i,r){if(e<0){i(null);return}t.ready().then(function(){G(t._dbInfo,K,function(f,u){if(f)return r(f);try{var s=u.objectStore(t._dbInfo.storeName),c=!1,l=s.openKeyCursor();l.onsuccess=function(){var p=l.result;if(!p){i(null);return}e===0||c?i(p.key):(c=!0,p.advance(e))},l.onerror=function(){r(l.error)}}catch(p){r(p)}})}).catch(r)});return g(o,n),o}function pt(e){var n=this,t=new v(function(o,i){n.ready().then(function(){G(n._dbInfo,K,function(r,f){if(r)return i(r);try{var u=f.objectStore(n._dbInfo.storeName),s=u.openKeyCursor(),c=[];s.onsuccess=function(){var l=s.result;if(!l){o(c);return}c.push(l.key),l.continue()},s.onerror=function(){i(s.error)}}catch(l){i(l)}})}).catch(i)});return g(t,e),t}function yt(e,n){n=V.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,i;if(!e.name)i=v.reject("Invalid arguments");else{var r=e.name===t.name&&o._dbInfo.db,f=r?v.resolve(o._dbInfo.db):j(e).then(function(u){var s=$[e.name],c=s.forages;s.db=u;for(var l=0;l<c.length;l++)c[l]._dbInfo.db=u;return u});e.storeName?i=f.then(function(u){if(!!u.objectStoreNames.contains(e.storeName)){var s=u.version+1;F(e);var c=$[e.name],l=c.forages;u.close();for(var p=0;p<l.length;p++){var b=l[p];b._dbInfo.db=null,b._dbInfo.version=s}var A=new v(function(x,L){var O=I.open(e.name,s);O.onerror=function(W){var re=O.result;re.close(),L(W)},O.onupgradeneeded=function(){var W=O.result;W.deleteObjectStore(e.storeName)},O.onsuccess=function(){var W=O.result;W.close(),x(W)}});return A.then(function(x){c.db=x;for(var L=0;L<l.length;L++){var O=l[L];O._dbInfo.db=x,U(O._dbInfo)}}).catch(function(x){throw(Y(e,x)||v.resolve()).catch(function(){}),x})}}):i=f.then(function(u){F(e);var s=$[e.name],c=s.forages;u.close();for(var l=0;l<c.length;l++){var p=c[l];p._dbInfo.db=null}var b=new v(function(A,x){var L=I.deleteDatabase(e.name);L.onerror=function(){var O=L.result;O&&O.close(),x(L.error)},L.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},L.onsuccess=function(){var O=L.result;O&&O.close(),A(O)}});return b.then(function(A){s.db=A;for(var x=0;x<c.length;x++){var L=c[x];U(L._dbInfo)}}).catch(function(A){throw(Y(e,A)||v.resolve()).catch(function(){}),A})})}return g(i,n),i}var gt={_driver:"asyncStorage",_initStorage:ut,_support:y(),iterate:ct,getItem:st,setItem:lt,removeItem:dt,clear:vt,length:ht,key:mt,keys:pt,dropInstance:yt};function _t(){return typeof openDatabase=="function"}var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bt="~~local_forage_type~",Ce=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",ye=ue.length,ge="arbf",_e="blob",Oe="si08",Le="ui08",Pe="uic8",$e="si16",Fe="si32",Me="ur16",Ue="ui32",Ye="fl32",ze="fl64",We=ye+ge.length,Ve=Object.prototype.toString;function Qe(e){var n=e.length*.75,t=e.length,o,i=0,r,f,u,s;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var c=new ArrayBuffer(n),l=new Uint8Array(c);for(o=0;o<t;o+=4)r=H.indexOf(e[o]),f=H.indexOf(e[o+1]),u=H.indexOf(e[o+2]),s=H.indexOf(e[o+3]),l[i++]=r<<2|f>>4,l[i++]=(f&15)<<4|u>>2,l[i++]=(u&3)<<6|s&63;return c}function be(e){var n=new Uint8Array(e),t="",o;for(o=0;o<n.length;o+=3)t+=H[n[o]>>2],t+=H[(n[o]&3)<<4|n[o+1]>>4],t+=H[(n[o+1]&15)<<2|n[o+2]>>6],t+=H[n[o+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,n){var t="";if(e&&(t=Ve.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Ve.call(e.buffer)==="[object ArrayBuffer]")){var o,i=ue;e instanceof ArrayBuffer?(o=e,i+=ge):(o=e.buffer,t==="[object Int8Array]"?i+=Oe:t==="[object Uint8Array]"?i+=Le:t==="[object Uint8ClampedArray]"?i+=Pe:t==="[object Int16Array]"?i+=$e:t==="[object Uint16Array]"?i+=Me:t==="[object Int32Array]"?i+=Fe:t==="[object Uint32Array]"?i+=Ue:t==="[object Float32Array]"?i+=Ye:t==="[object Float64Array]"?i+=ze:n(new Error("Failed to get type for BinaryArray"))),n(i+be(o))}else if(t==="[object Blob]"){var r=new FileReader;r.onload=function(){var f=bt+e.type+"~"+be(this.result);n(ue+_e+f)},r.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(f){console.error("Couldn't convert value into a JSON string: ",e),n(null,f)}}function Et(e){if(e.substring(0,ye)!==ue)return JSON.parse(e);var n=e.substring(We),t=e.substring(ye,We),o;if(t===_e&&Ce.test(n)){var i=n.match(Ce);o=i[1],n=n.substring(i[0].length)}var r=Qe(n);switch(t){case ge:return r;case _e:return M([r],{type:o});case Oe:return new Int8Array(r);case Le:return new Uint8Array(r);case Pe:return new Uint8ClampedArray(r);case $e:return new Int16Array(r);case Me:return new Uint16Array(r);case Fe:return new Int32Array(r);case Ue:return new Uint32Array(r);case Ye:return new Float32Array(r);case ze:return new Float64Array(r);default:throw new Error("Unkown type: "+t)}}var we={serialize:wt,deserialize:Et,stringToBuffer:Qe,bufferToString:be};function je(e,n,t,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,o)}function St(e){var n=this,t={db:null};if(e)for(var o in e)t[o]=typeof e[o]!="string"?e[o].toString():e[o];var i=new v(function(r,f){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(u){return f(u)}t.db.transaction(function(u){je(u,t,function(){n._dbInfo=t,r()},function(s,c){f(c)})},f)});return t.serializer=we,i}function X(e,n,t,o,i,r){e.executeSql(t,o,i,function(f,u){u.code===u.SYNTAX_ERR?f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(s,c){c.rows.length?r(s,u):je(s,n,function(){s.executeSql(t,o,i,r)},r)},r):r(f,u)},r)}function It(e,n){var t=this;e=C(e);var o=new v(function(i,r){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(u){X(u,f,"SELECT * FROM "+f.storeName+" WHERE key = ? LIMIT 1",[e],function(s,c){var l=c.rows.length?c.rows.item(0).value:null;l&&(l=f.serializer.deserialize(l)),i(l)},function(s,c){r(c)})})}).catch(r)});return g(o,n),o}function Rt(e,n){var t=this,o=new v(function(i,r){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(u){X(u,f,"SELECT * FROM "+f.storeName,[],function(s,c){for(var l=c.rows,p=l.length,b=0;b<p;b++){var A=l.item(b),x=A.value;if(x&&(x=f.serializer.deserialize(x)),x=e(x,A.key,b+1),x!==void 0){i(x);return}}i()},function(s,c){r(c)})})}).catch(r)});return g(o,n),o}function Ge(e,n,t,o){var i=this;e=C(e);var r=new v(function(f,u){i.ready().then(function(){n===void 0&&(n=null);var s=n,c=i._dbInfo;c.serializer.serialize(n,function(l,p){p?u(p):c.db.transaction(function(b){X(b,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,l],function(){f(s)},function(A,x){u(x)})},function(b){if(b.code===b.QUOTA_ERR){if(o>0){f(Ge.apply(i,[e,s,t,o-1]));return}u(b)}})})}).catch(u)});return g(r,t),r}function At(e,n,t){return Ge.apply(this,[e,n,t,1])}function xt(e,n){var t=this;e=C(e);var o=new v(function(i,r){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(u){X(u,f,"DELETE FROM "+f.storeName+" WHERE key = ?",[e],function(){i()},function(s,c){r(c)})})}).catch(r)});return g(o,n),o}function Nt(e){var n=this,t=new v(function(o,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(f){X(f,r,"DELETE FROM "+r.storeName,[],function(){o()},function(u,s){i(s)})})}).catch(i)});return g(t,e),t}function Tt(e){var n=this,t=new v(function(o,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(f){X(f,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(u,s){var c=s.rows.item(0).c;o(c)},function(u,s){i(s)})})}).catch(i)});return g(t,e),t}function Dt(e,n){var t=this,o=new v(function(i,r){t.ready().then(function(){var f=t._dbInfo;f.db.transaction(function(u){X(u,f,"SELECT key FROM "+f.storeName+" WHERE id = ? LIMIT 1",[e+1],function(s,c){var l=c.rows.length?c.rows.item(0).key:null;i(l)},function(s,c){r(c)})})}).catch(r)});return g(o,n),o}function Bt(e){var n=this,t=new v(function(o,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(f){X(f,r,"SELECT key FROM "+r.storeName,[],function(u,s){for(var c=[],l=0;l<s.rows.length;l++)c.push(s.rows.item(l).key);o(c)},function(u,s){i(s)})})}).catch(i)});return g(t,e),t}function Ct(e){return new v(function(n,t){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(i,r){for(var f=[],u=0;u<r.rows.length;u++)f.push(r.rows.item(u).name);n({db:e,storeNames:f})},function(i,r){t(r)})},function(o){t(o)})})}function Ot(e,n){n=V.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,i;return e.name?i=new v(function(r){var f;e.name===t.name?f=o._dbInfo.db:f=openDatabase(e.name,"","",0),e.storeName?r({db:f,storeNames:[e.storeName]}):r(Ct(f))}).then(function(r){return new v(function(f,u){r.db.transaction(function(s){function c(A){return new v(function(x,L){s.executeSql("DROP TABLE IF EXISTS "+A,[],function(){x()},function(O,W){L(W)})})}for(var l=[],p=0,b=r.storeNames.length;p<b;p++)l.push(c(r.storeNames[p]));v.all(l).then(function(){f()}).catch(function(A){u(A)})},function(s){u(s)})})}):i=v.reject("Invalid arguments"),g(i,n),i}var Lt={_driver:"webSQLStorage",_initStorage:St,_support:_t(),iterate:Rt,getItem:It,setItem:At,removeItem:xt,clear:Nt,length:Tt,key:Dt,keys:Bt,dropInstance:Ot};function Pt(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function He(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function $t(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Ft(){return!$t()||localStorage.length>0}function Mt(e){var n=this,t={};if(e)for(var o in e)t[o]=e[o];return t.keyPrefix=He(e,n._defaultConfig),Ft()?(n._dbInfo=t,t.serializer=we,v.resolve()):v.reject()}function Ut(e){var n=this,t=n.ready().then(function(){for(var o=n._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var r=localStorage.key(i);r.indexOf(o)===0&&localStorage.removeItem(r)}});return g(t,e),t}function Yt(e,n){var t=this;e=C(e);var o=t.ready().then(function(){var i=t._dbInfo,r=localStorage.getItem(i.keyPrefix+e);return r&&(r=i.serializer.deserialize(r)),r});return g(o,n),o}function zt(e,n){var t=this,o=t.ready().then(function(){for(var i=t._dbInfo,r=i.keyPrefix,f=r.length,u=localStorage.length,s=1,c=0;c<u;c++){var l=localStorage.key(c);if(l.indexOf(r)===0){var p=localStorage.getItem(l);if(p&&(p=i.serializer.deserialize(p)),p=e(p,l.substring(f),s++),p!==void 0)return p}}});return g(o,n),o}function Wt(e,n){var t=this,o=t.ready().then(function(){var i=t._dbInfo,r;try{r=localStorage.key(e)}catch{r=null}return r&&(r=r.substring(i.keyPrefix.length)),r});return g(o,n),o}function Vt(e){var n=this,t=n.ready().then(function(){for(var o=n._dbInfo,i=localStorage.length,r=[],f=0;f<i;f++){var u=localStorage.key(f);u.indexOf(o.keyPrefix)===0&&r.push(u.substring(o.keyPrefix.length))}return r});return g(t,e),t}function Qt(e){var n=this,t=n.keys().then(function(o){return o.length});return g(t,e),t}function jt(e,n){var t=this;e=C(e);var o=t.ready().then(function(){var i=t._dbInfo;localStorage.removeItem(i.keyPrefix+e)});return g(o,n),o}function Gt(e,n,t){var o=this;e=C(e);var i=o.ready().then(function(){n===void 0&&(n=null);var r=n;return new v(function(f,u){var s=o._dbInfo;s.serializer.serialize(n,function(c,l){if(l)u(l);else try{localStorage.setItem(s.keyPrefix+e,c),f(r)}catch(p){(p.name==="QuotaExceededError"||p.name==="NS_ERROR_DOM_QUOTA_REACHED")&&u(p),u(p)}})})});return g(i,t),i}function Ht(e,n){if(n=V.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var o=this,i;return e.name?i=new v(function(r){e.storeName?r(He(e,o._defaultConfig)):r(e.name+"/")}).then(function(r){for(var f=localStorage.length-1;f>=0;f--){var u=localStorage.key(f);u.indexOf(r)===0&&localStorage.removeItem(u)}}):i=v.reject("Invalid arguments"),g(i,n),i}var Xt={_driver:"localStorageWrapper",_initStorage:Mt,_support:Pt(),iterate:zt,getItem:Yt,setItem:Gt,removeItem:jt,clear:Ut,length:Qt,key:Wt,keys:Vt,dropInstance:Ht},Kt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},kt=function(n,t){for(var o=n.length,i=0;i<o;){if(Kt(n[i],t))return!0;i++}return!1},Xe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},ne={},Ke={},q={INDEXEDDB:gt,WEBSQL:Lt,LOCALSTORAGE:Xt},Jt=[q.INDEXEDDB._driver,q.WEBSQL._driver,q.LOCALSTORAGE._driver],se=["dropInstance"],Ee=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(se),qt={description:"",driver:Jt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Zt(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function Se(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Xe(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var en=function(){function e(n){N(this,e);for(var t in q)if(q.hasOwnProperty(t)){var o=q[t],i=o._driver;this[t]=i,ne[i]||this.defineDriver(o)}this._defaultConfig=Se({},qt),this._config=Se({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t=="undefined"?"undefined":S(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in t){if(o==="storeName"&&(t[o]=t[o].replace(/\W/g,"_")),o==="version"&&typeof t[o]!="number")return new Error("Database version must be a number.");this._config[o]=t[o]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,o,i){var r=new v(function(f,u){try{var s=t._driver,c=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){u(c);return}for(var l=Ee.concat("_initStorage"),p=0,b=l.length;p<b;p++){var A=l[p],x=!kt(se,A);if((x||t[A])&&typeof t[A]!="function"){u(c);return}}var L=function(){for(var re=function(rn){return function(){var on=new Error("Method "+rn+" is not implemented by the current driver"),ke=v.reject(on);return g(ke,arguments[arguments.length-1]),ke}},Ie=0,nn=se.length;Ie<nn;Ie++){var Re=se[Ie];t[Re]||(t[Re]=re(Re))}};L();var O=function(re){ne[s]&&console.info("Redefining LocalForage driver: "+s),ne[s]=t,Ke[s]=re,f()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(O,u):O(!!t._support):O(!0)}catch(W){u(W)}});return B(r,o,i),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,o,i){var r=ne[t]?v.resolve(ne[t]):v.reject(new Error("Driver not found."));return B(r,o,i),r},e.prototype.getSerializer=function(t){var o=v.resolve(we);return B(o,t),o},e.prototype.ready=function(t){var o=this,i=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return B(i,t,t),i},e.prototype.setDriver=function(t,o,i){var r=this;Xe(t)||(t=[t]);var f=this._getSupportedDrivers(t);function u(){r._config.driver=r.driver()}function s(p){return r._extend(p),u(),r._ready=r._initStorage(r._config),r._ready}function c(p){return function(){var b=0;function A(){for(;b<p.length;){var x=p[b];return b++,r._dbInfo=null,r._ready=null,r.getDriver(x).then(s).catch(A)}u();var L=new Error("No available storage method found.");return r._driverSet=v.reject(L),r._driverSet}return A()}}var l=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=l.then(function(){var p=f[0];return r._dbInfo=null,r._ready=null,r.getDriver(p).then(function(b){r._driver=b._driver,u(),r._wrapLibraryMethodsWithReady(),r._initDriver=c(f)})}).catch(function(){u();var p=new Error("No available storage method found.");return r._driverSet=v.reject(p),r._driverSet}),B(this._driverSet,o,i),this._driverSet},e.prototype.supports=function(t){return!!Ke[t]},e.prototype._extend=function(t){Se(this,t)},e.prototype._getSupportedDrivers=function(t){for(var o=[],i=0,r=t.length;i<r;i++){var f=t[i];this.supports(f)&&o.push(f)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,o=Ee.length;t<o;t++)Zt(this,Ee[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),tn=new en;E.exports=tn},{"3":3}]},{},[4])(4)})})(it);var et=it.exports;const Un=(a,d,{driver:m="INDEXEDDB",storeName:E="default-store",dbName:D="svelte-presistent-db"}={})=>{const S=_n(d);let N=et.createInstance({name:D,storeName:E,driver:et[m]});N.ready().then(function(){I()}).catch(function(y){S.set(void 0)});let _=!1;function I(){N.getItem(a).then(y=>{y===null&&(y=d),_=!0,S.set(y)})}return{subscribe:S.subscribe,update:y=>{S.update(y),_&&N.setItem(a,sn(S))},set:y=>{S.set(y),_&&N.setItem(a,y)}}};export{Bn as A,Rn as B,Mn as S,xn as a,Dn as b,Sn as c,In as d,An as e,Pn as f,On as g,Ln as h,Fn as i,mn as j,cn as k,nt as l,wn as m,En as n,ee as o,Un as p,Nn as q,yn as r,fn as s,Cn as t,$n as u,pn as v,_n as w,rt as x,Ne as y,Tn as z};
