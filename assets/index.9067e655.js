import{S as V,i as X,s as M,e as h,a as E,b as m,t as H,c as k,d as w,g as F,f as I,h as K,j as S,k as g,l as ce,p as Z,m as $,n as J,o as B,w as Q,q as U,r as D,u as O,v as A,x as oe,y as ie,z as W,A as re,B as pe}from"./vendor.be40293f.js";const ae=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}};ae();function x(r,e,o){const l=r.slice();return l[17]=e[o],l}function de(r){let e,o,l,t,n,i,a,f=r[1].props.label+"",u,p,v,q,C,j,s,c=r[1].props.component&&ee(r);return{c(){e=h("li"),o=h("div"),l=h("div"),t=h("input"),i=E(),a=h("label"),u=oe(f),v=E(),q=h("div"),c&&c.c(),m(t,"type","checkbox"),m(t,"id",n="item-"+r[1].props.id),(r[7]===void 0||r[6]===void 0)&&ie(()=>r[15].call(t)),m(a,"for",p="item-"+r[1].props.id),m(a,"class","svelte-14950jg"),m(l,"class","main svelte-14950jg"),m(o,"class","container svelte-14950jg")},m(b,L){w(b,e,L),k(e,o),k(o,l),k(l,t),t.checked=r[7],t.indeterminate=r[6],k(l,i),k(l,a),k(a,u),k(l,v),k(l,q),c&&c.m(q,null),C=!0,j||(s=W(t,"change",r[15]),j=!0)},p(b,L){(!C||L&2&&n!==(n="item-"+b[1].props.id))&&m(t,"id",n),L&128&&(t.checked=b[7]),L&64&&(t.indeterminate=b[6]),(!C||L&2)&&f!==(f=b[1].props.label+"")&&re(u,f),(!C||L&2&&p!==(p="item-"+b[1].props.id))&&m(a,"for",p),b[1].props.component?c?(c.p(b,L),L&2&&S(c,1)):(c=ee(b),c.c(),S(c,1),c.m(q,null)):c&&(F(),I(c,1,1,()=>{c=null}),K())},i(b){C||(S(c),C=!0)},o(b){I(c),C=!1},d(b){b&&g(e),c&&c.d(),j=!1,s()}}}function ue(r){let e,o,l,t,n,i,a,f,u=r[1].props.label+"",p,v,q,C,j,s,c,b,L=r[11]&&me(r),y=r[1].props.component&&ne(r),z=r[1].children,N=[];for(let d=0;d<z.length;d+=1)N[d]=le(x(r,z,d));const _=d=>I(N[d],1,1,()=>{N[d]=null});return{c(){e=h("li"),o=h("div"),l=h("div"),L&&L.c(),t=E(),n=h("input"),a=E(),f=h("label"),p=oe(u),q=E(),y&&y.c(),C=E(),j=h("li");for(let d=0;d<N.length;d+=1)N[d].c();m(n,"type","checkbox"),m(n,"id",i=r[1].props.id),(r[7]===void 0||r[6]===void 0)&&ie(()=>r[14].call(n)),m(f,"for",v=r[1].props.id),m(f,"class","svelte-14950jg"),m(l,"class","main svelte-14950jg"),m(o,"class","container svelte-14950jg"),m(j,"class","expandable svelte-14950jg"),H(j,"expanded",r[8])},m(d,T){w(d,e,T),k(e,o),k(o,l),L&&L.m(l,null),k(l,t),k(l,n),n.checked=r[7],n.indeterminate=r[6],k(l,a),k(l,f),k(f,p),k(l,q),y&&y.m(l,null),w(d,C,T),w(d,j,T);for(let P=0;P<N.length;P+=1)N[P].m(j,null);s=!0,c||(b=W(n,"change",r[14]),c=!0)},p(d,T){if(d[11]&&L.p(d,T),(!s||T&2&&i!==(i=d[1].props.id))&&m(n,"id",i),T&128&&(n.checked=d[7]),T&64&&(n.indeterminate=d[6]),(!s||T&2)&&u!==(u=d[1].props.label+"")&&re(p,u),(!s||T&2&&v!==(v=d[1].props.id))&&m(f,"for",v),d[1].props.component?y?(y.p(d,T),T&2&&S(y,1)):(y=ne(d),y.c(),S(y,1),y.m(l,null)):y&&(F(),I(y,1,1,()=>{y=null}),K()),T&1559){z=d[1].children;let P;for(P=0;P<z.length;P+=1){const Y=x(d,z,P);N[P]?(N[P].p(Y,T),S(N[P],1)):(N[P]=le(Y),N[P].c(),S(N[P],1),N[P].m(j,null))}for(F(),P=z.length;P<N.length;P+=1)_(P);K()}T&256&&H(j,"expanded",d[8])},i(d){if(!s){S(y);for(let T=0;T<z.length;T+=1)S(N[T]);s=!0}},o(d){I(y),N=N.filter(Boolean);for(let T=0;T<N.length;T+=1)I(N[T]);s=!1},d(d){d&&g(e),L&&L.d(),y&&y.d(),d&&g(C),d&&g(j),pe(N,d),c=!1,b()}}}function ee(r){let e=r[1],o,l,t=te(r);return{c(){t.c(),o=U()},m(n,i){t.m(n,i),w(n,o,i),l=!0},p(n,i){i&2&&M(e,e=n[1])?(F(),I(t,1,1,B),K(),t=te(n),t.c(),S(t),t.m(o.parentNode,o)):t.p(n,i)},i(n){l||(S(t),l=!0)},o(n){I(t),l=!1},d(n){n&&g(o),t.d(n)}}}function te(r){let e,o,l;var t=r[1].props.component;function n(i){return{props:{controlChecked:i[7],parent:i[3],props:i[1].props}}}return t&&(e=new t(n(r))),{c(){e&&O(e.$$.fragment),o=U()},m(i,a){e&&A(e,i,a),w(i,o,a),l=!0},p(i,a){const f={};if(a&128&&(f.controlChecked=i[7]),a&8&&(f.parent=i[3]),a&2&&(f.props=i[1].props),t!==(t=i[1].props.component)){if(e){F();const u=e;I(u.$$.fragment,1,0,()=>{D(u,1)}),K()}t?(e=new t(n(i)),O(e.$$.fragment),S(e.$$.fragment,1),A(e,o.parentNode,o)):e=null}else t&&e.$set(f)},i(i){l||(e&&S(e.$$.fragment,i),l=!0)},o(i){e&&I(e.$$.fragment,i),l=!1},d(i){i&&g(o),e&&D(e,i)}}}function me(r){let e,o,l,t,n,i,a;return{c(){e=h("input"),l=E(),t=h("label"),m(e,"type","checkbox"),m(e,"class","expansion-control svelte-14950jg"),m(e,"id",o="expansion-controls-"+r[1].props.id),m(t,"for",n="expansion-controls-"+r[1].props.id),m(t,"class","l1 fas  svelte-14950jg")},m(f,u){w(f,e,u),e.checked=r[8],w(f,l,u),w(f,t,u),i||(a=W(e,"change",r[13]),i=!0)},p(f,u){u&2&&o!==(o="expansion-controls-"+f[1].props.id)&&m(e,"id",o),u&256&&(e.checked=f[8]),u&2&&n!==(n="expansion-controls-"+f[1].props.id)&&m(t,"for",n)},d(f){f&&g(e),f&&g(l),f&&g(t),i=!1,a()}}}function ne(r){let e,o,l;var t=r[1].props.component;function n(i){return{props:{controlChecked:i[7],props:i[1].props}}}return t&&(e=new t(n(r))),{c(){e&&O(e.$$.fragment),o=U()},m(i,a){e&&A(e,i,a),w(i,o,a),l=!0},p(i,a){const f={};if(a&128&&(f.controlChecked=i[7]),a&2&&(f.props=i[1].props),t!==(t=i[1].props.component)){if(e){F();const u=e;I(u.$$.fragment,1,0,()=>{D(u,1)}),K()}t?(e=new t(n(i)),O(e.$$.fragment),S(e.$$.fragment,1),A(e,o.parentNode,o)):e=null}else t&&e.$set(f)},i(i){l||(e&&S(e.$$.fragment,i),l=!0)},o(i){e&&I(e.$$.fragment,i),l=!1},d(i){i&&g(o),e&&D(e,i)}}}function le(r){let e,o;return e=new se({props:{parent:r[1].props.id,node:r[17],parentNodeState:r[10],level:r[2]+1,childToParentList:r[9],treeName:r[0],driver:r[4]}}),{c(){O(e.$$.fragment)},m(l,t){A(e,l,t),o=!0},p(l,t){const n={};t&2&&(n.parent=l[1].props.id),t&2&&(n.node=l[17]),t&4&&(n.level=l[2]+1),t&1&&(n.treeName=l[0]),t&16&&(n.driver=l[4]),e.$set(n)},i(l){o||(S(e.$$.fragment,l),o=!0)},o(l){I(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function _e(r){let e,o,l,t,n,i;const a=[ue,de],f=[];function u(p,v){return p[1].children?0:1}return t=u(r),n=f[t]=a[t](r),{c(){e=h("link"),o=E(),l=h("ul"),n.c(),m(e,"rel","stylesheet"),m(e,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"),m(l,"class","svelte-14950jg"),H(l,"root",r[2]===0)},m(p,v){k(document.head,e),w(p,o,v),w(p,l,v),f[t].m(l,null),i=!0},p(p,[v]){let q=t;t=u(p),t===q?f[t].p(p,v):(F(),I(f[q],1,1,()=>{f[q]=null}),K(),n=f[t],n?n.p(p,v):(n=f[t]=a[t](p),n.c()),S(n,1),n.m(l,null)),v&4&&H(l,"root",p[2]===0)},i(p){i||(S(n),i=!0)},o(p){I(n),i=!1},d(p){g(e),p&&g(o),p&&g(l),f[t].d()}}}function he(r,e,o){let l,t,n=B,i=()=>(n(),n=ce(s,_=>o(16,t=_)),s),a;r.$$.on_destroy.push(()=>n());let{treeName:f="tree-view"}=e,{parentNodeState:u=Q(!1)}=e,{node:p}=e,{level:v=0}=e,{parent:q=void 0}=e,{driver:C="INDEXEDDB"}=e,j=Q({checked:new Set([]),indeterminate:new Set([])}),{childToParentList:s=Q({checked:new Set([]),indeterminate:new Set([])})}=e;i();let c=!1,b=Z(p.props.id+"-current-node-state",p.props.defaultVisible,C,f);$(r,b,_=>o(7,l=_));let L=Z(p.props.id+"-current-node-expansion-state",!0,C,f);if($(r,L,_=>o(8,a=_)),console.log(p.props),p.children){let _=p.children.length;j.subscribe(d=>{d.checked.size===0?(J(b,l=!1,l),o(6,c=!1),t.indeterminate.delete(p.props.id)):d.checked.size===_?(J(b,l=!0,l),o(6,c=!1),t.indeterminate.delete(p.props.id)):(o(6,c=!0),t.indeterminate.add(p.props.id)),d.indeterminate.size>0&&(o(6,c=!0),t.indeterminate.add(p.props.id)),s.set(t)})}b.subscribe(_=>{_?t.checked.add(p.props.id):t.checked.delete(p.props.id),s.set(t)}),u.subscribe(_=>{J(b,l=_,l)});function y(){a=this.checked,L.set(a)}function z(){l=this.checked,b.set(l),c=this.indeterminate,o(6,c)}function N(){l=this.checked,b.set(l),c=this.indeterminate,o(6,c)}return r.$$set=_=>{"treeName"in _&&o(0,f=_.treeName),"parentNodeState"in _&&o(12,u=_.parentNodeState),"node"in _&&o(1,p=_.node),"level"in _&&o(2,v=_.level),"parent"in _&&o(3,q=_.parent),"driver"in _&&o(4,C=_.driver),"childToParentList"in _&&i(o(5,s=_.childToParentList))},[f,p,v,q,C,s,c,l,a,j,b,L,u,y,z,N]}class se extends V{constructor(e){super();X(this,e,he,_e,M,{treeName:0,parentNodeState:12,node:1,level:2,parent:3,driver:4,childToParentList:5})}}function be(r){let e,o,l,t;return{c(){e=h("div"),o=h("label"),o.textContent="TreeItem Component",l=E(),t=h("input"),m(o,"class","svelte-1c6vds7"),m(t,"type","checkbox"),t.checked=r[0]},m(n,i){w(n,e,i),k(e,o),k(e,l),k(e,t)},p(n,[i]){i&1&&(t.checked=n[0])},i:B,o:B,d(n){n&&g(e)}}}function ke(r,e,o){let{controlChecked:l=!1}=e,{props:t}=e;return r.$$set=n=>{"controlChecked"in n&&o(0,l=n.controlChecked),"props"in n&&o(1,t=n.props)},[l,t]}class R extends V{constructor(e){super();X(this,e,ke,be,M,{controlChecked:0,props:1})}}function ve(r){let e,o,l,t;return{c(){e=h("div"),o=h("label"),o.textContent="TreeNode Component",l=E(),t=h("input"),m(o,"class","svelte-q4osw6"),m(t,"type","checkbox"),t.checked=r[0]},m(n,i){w(n,e,i),k(e,o),k(e,l),k(e,t)},p(n,[i]){i&1&&(t.checked=n[0])},i:B,o:B,d(n){n&&g(e)}}}function ge(r,e,o){let{controlChecked:l=!1}=e,{props:t}=e;return r.$$set=n=>{"controlChecked"in n&&o(0,l=n.controlChecked),"props"in n&&o(1,t=n.props)},[l,t]}class G extends V{constructor(e){super();X(this,e,ge,ve,M,{controlChecked:0,props:1})}}function we(r){let e,o,l,t;return{c(){e=h("div"),o=h("label"),o.textContent="TreeRoot Component",l=E(),t=h("input"),m(o,"class","svelte-1as1qw0"),m(t,"type","checkbox"),t.checked=r[0]},m(n,i){w(n,e,i),k(e,o),k(e,l),k(e,t)},p(n,[i]){i&1&&(t.checked=n[0])},i:B,o:B,d(n){n&&g(e)}}}function Ce(r,e,o){let{controlChecked:l=!1}=e,{props:t}=e;return r.$$set=n=>{"controlChecked"in n&&o(0,l=n.controlChecked),"props"in n&&o(1,t=n.props)},[l,t]}class fe extends V{constructor(e){super();X(this,e,Ce,we,M,{controlChecked:0,props:1})}}const Ne={props:{id:"root-node",label:"root",component:fe},children:[{props:{id:"node1",label:"node1",component:G},children:[{props:{id:"item1-1",label:"item1.1",component:R}},{props:{id:"item1-2",label:"item1.2",component:R}},{props:{id:"node11",label:"node1",component:G},children:[{props:{id:"item11-1",label:"item11.1",component:R}},{props:{id:"item11-2",label:"item11.2",component:R}}]}]},{props:{id:"node2",label:"node2",component:G},children:[{props:{id:"item2-1",label:"item2.1",component:R}},{props:{id:"item2-2",label:"item2.2",component:R}}]}]};function Te(r){let e,o,l,t,n,i,a,f,u,p,v,q,C,j;return l=new fe({}),a=new G({}),v=new R({}),C=new se({props:{node:Ne,treeName:"test-tree"}}),{c(){e=h("p"),e.textContent="Custom componenet 1:",o=E(),O(l.$$.fragment),t=E(),n=h("p"),n.textContent="Custom componenet 2:",i=E(),O(a.$$.fragment),f=E(),u=h("p"),u.textContent="Custom componenet 3:",p=E(),O(v.$$.fragment),q=E(),O(C.$$.fragment)},m(s,c){w(s,e,c),w(s,o,c),A(l,s,c),w(s,t,c),w(s,n,c),w(s,i,c),A(a,s,c),w(s,f,c),w(s,u,c),w(s,p,c),A(v,s,c),w(s,q,c),A(C,s,c),j=!0},p:B,i(s){j||(S(l.$$.fragment,s),S(a.$$.fragment,s),S(v.$$.fragment,s),S(C.$$.fragment,s),j=!0)},o(s){I(l.$$.fragment,s),I(a.$$.fragment,s),I(v.$$.fragment,s),I(C.$$.fragment,s),j=!1},d(s){s&&g(e),s&&g(o),D(l,s),s&&g(t),s&&g(n),s&&g(i),D(a,s),s&&g(f),s&&g(u),s&&g(p),D(v,s),s&&g(q),D(C,s)}}}class Se extends V{constructor(e){super();X(this,e,null,Te,M,{})}}new Se({target:document.body});
