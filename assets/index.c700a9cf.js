import{S as M,i as V,s as K,e as _,a as E,b as d,t as G,c as k,d as C,g as R,f as j,h as F,j as L,k as N,l as ce,p as Z,m as $,n as J,o as A,w as Q,q as U,r as D,u as O,v as q,x as oe,y as ie,z as W,A as re,B as pe}from"./vendor.6367cd09.js";const ae=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}};ae();function x(r,e,o){const l=r.slice();return l[18]=e[o],l}function de(r){let e,o,l,t,n,i,f,p=r[2].props.label+"",u,m,g,h,y,P,c,a=r[2].props.component&&ee(r);return{c(){e=_("li"),o=_("div"),l=_("div"),t=_("input"),i=E(),f=_("label"),u=oe(p),g=E(),h=_("div"),a&&a.c(),d(t,"type","checkbox"),d(t,"id",n="item-"+r[2].props.id),(r[7]===void 0||r[6]===void 0)&&ie(()=>r[16].call(t)),d(f,"for",m="item-"+r[2].props.id),d(f,"class","svelte-73nk2o"),d(l,"class","main svelte-73nk2o"),d(o,"class","container svelte-73nk2o")},m(b,w){C(b,e,w),k(e,o),k(o,l),k(l,t),t.checked=r[7],t.indeterminate=r[6],k(l,i),k(l,f),k(f,u),k(l,g),k(l,h),a&&a.m(h,null),y=!0,P||(c=W(t,"change",r[16]),P=!0)},p(b,w){(!y||w&4&&n!==(n="item-"+b[2].props.id))&&d(t,"id",n),w&128&&(t.checked=b[7]),w&64&&(t.indeterminate=b[6]),(!y||w&4)&&p!==(p=b[2].props.label+"")&&re(u,p),(!y||w&4&&m!==(m="item-"+b[2].props.id))&&d(f,"for",m),b[2].props.component?a?(a.p(b,w),w&4&&L(a,1)):(a=ee(b),a.c(),L(a,1),a.m(h,null)):a&&(R(),j(a,1,1,()=>{a=null}),F())},i(b){y||(L(a),y=!0)},o(b){j(a),y=!1},d(b){b&&N(e),a&&a.d(),P=!1,c()}}}function ue(r){let e,o,l,t,n,i,f,p,u=r[2].props.label+"",m,g,h,y,P,c,a,b,w=r[11]&&me(r),S=r[2].props.component&&ne(r),z=r[2].children,T=[];for(let s=0;s<z.length;s+=1)T[s]=le(x(r,z,s));const H=s=>j(T[s],1,1,()=>{T[s]=null});return{c(){e=_("li"),o=_("div"),l=_("div"),w&&w.c(),t=E(),n=_("input"),f=E(),p=_("label"),m=oe(u),h=E(),S&&S.c(),y=E(),P=_("li");for(let s=0;s<T.length;s+=1)T[s].c();d(n,"type","checkbox"),d(n,"id",i=r[2].props.id),(r[7]===void 0||r[6]===void 0)&&ie(()=>r[15].call(n)),d(p,"for",g=r[2].props.id),d(p,"class","svelte-73nk2o"),d(l,"class","main svelte-73nk2o"),d(o,"class","container svelte-73nk2o"),d(P,"class","expandable svelte-73nk2o"),G(P,"expanded",r[8])},m(s,v){C(s,e,v),k(e,o),k(o,l),w&&w.m(l,null),k(l,t),k(l,n),n.checked=r[7],n.indeterminate=r[6],k(l,f),k(l,p),k(p,m),k(l,h),S&&S.m(l,null),C(s,y,v),C(s,P,v);for(let I=0;I<T.length;I+=1)T[I].m(P,null);c=!0,a||(b=W(n,"change",r[15]),a=!0)},p(s,v){if(s[11]&&w.p(s,v),(!c||v&4&&i!==(i=s[2].props.id))&&d(n,"id",i),v&128&&(n.checked=s[7]),v&64&&(n.indeterminate=s[6]),(!c||v&4)&&u!==(u=s[2].props.label+"")&&re(m,u),(!c||v&4&&g!==(g=s[2].props.id))&&d(p,"for",g),s[2].props.component?S?(S.p(s,v),v&4&&L(S,1)):(S=ne(s),S.c(),L(S,1),S.m(l,null)):S&&(R(),j(S,1,1,()=>{S=null}),F()),v&1551){z=s[2].children;let I;for(I=0;I<z.length;I+=1){const Y=x(s,z,I);T[I]?(T[I].p(Y,v),L(T[I],1)):(T[I]=le(Y),T[I].c(),L(T[I],1),T[I].m(P,null))}for(R(),I=z.length;I<T.length;I+=1)H(I);F()}v&256&&G(P,"expanded",s[8])},i(s){if(!c){L(S);for(let v=0;v<z.length;v+=1)L(T[v]);c=!0}},o(s){j(S),T=T.filter(Boolean);for(let v=0;v<T.length;v+=1)j(T[v]);c=!1},d(s){s&&N(e),w&&w.d(),S&&S.d(),s&&N(y),s&&N(P),pe(T,s),a=!1,b()}}}function ee(r){let e=r[2],o,l,t=te(r);return{c(){t.c(),o=U()},m(n,i){t.m(n,i),C(n,o,i),l=!0},p(n,i){i&4&&K(e,e=n[2])?(R(),j(t,1,1,A),F(),t=te(n),t.c(),L(t),t.m(o.parentNode,o)):t.p(n,i)},i(n){l||(L(t),l=!0)},o(n){j(t),l=!1},d(n){n&&N(o),t.d(n)}}}function te(r){let e,o,l;var t=r[2].props.component;function n(i){return{props:{controlChecked:i[7],parent:i[4],props:i[2].props}}}return t&&(e=new t(n(r))),{c(){e&&O(e.$$.fragment),o=U()},m(i,f){e&&q(e,i,f),C(i,o,f),l=!0},p(i,f){const p={};if(f&128&&(p.controlChecked=i[7]),f&16&&(p.parent=i[4]),f&4&&(p.props=i[2].props),t!==(t=i[2].props.component)){if(e){R();const u=e;j(u.$$.fragment,1,0,()=>{D(u,1)}),F()}t?(e=new t(n(i)),O(e.$$.fragment),L(e.$$.fragment,1),q(e,o.parentNode,o)):e=null}else t&&e.$set(p)},i(i){l||(e&&L(e.$$.fragment,i),l=!0)},o(i){e&&j(e.$$.fragment,i),l=!1},d(i){i&&N(o),e&&D(e,i)}}}function me(r){let e,o,l,t,n,i,f;return{c(){e=_("input"),l=E(),t=_("label"),d(e,"type","checkbox"),d(e,"class","expansion-control svelte-73nk2o"),d(e,"id",o="expansion-controls-"+r[2].props.id),d(t,"for",n="expansion-controls-"+r[2].props.id),d(t,"class","l1 fas  svelte-73nk2o")},m(p,u){C(p,e,u),e.checked=r[8],C(p,l,u),C(p,t,u),i||(f=W(e,"change",r[14]),i=!0)},p(p,u){u&4&&o!==(o="expansion-controls-"+p[2].props.id)&&d(e,"id",o),u&256&&(e.checked=p[8]),u&4&&n!==(n="expansion-controls-"+p[2].props.id)&&d(t,"for",n)},d(p){p&&N(e),p&&N(l),p&&N(t),i=!1,f()}}}function ne(r){let e,o,l;var t=r[2].props.component;function n(i){return{props:{controlChecked:i[7],props:i[2].props}}}return t&&(e=new t(n(r))),{c(){e&&O(e.$$.fragment),o=U()},m(i,f){e&&q(e,i,f),C(i,o,f),l=!0},p(i,f){const p={};if(f&128&&(p.controlChecked=i[7]),f&4&&(p.props=i[2].props),t!==(t=i[2].props.component)){if(e){R();const u=e;j(u.$$.fragment,1,0,()=>{D(u,1)}),F()}t?(e=new t(n(i)),O(e.$$.fragment),L(e.$$.fragment,1),q(e,o.parentNode,o)):e=null}else t&&e.$set(p)},i(i){l||(e&&L(e.$$.fragment,i),l=!0)},o(i){e&&j(e.$$.fragment,i),l=!1},d(i){i&&N(o),e&&D(e,i)}}}function le(r){let e,o;return e=new se({props:{parent:r[2].props.id,node:r[18],parentNodeState:r[10],level:r[3]+1,childToParentList:r[9],treeName:r[0],driver:r[1]}}),{c(){O(e.$$.fragment)},m(l,t){q(e,l,t),o=!0},p(l,t){const n={};t&4&&(n.parent=l[2].props.id),t&4&&(n.node=l[18]),t&8&&(n.level=l[3]+1),t&1&&(n.treeName=l[0]),t&2&&(n.driver=l[1]),e.$set(n)},i(l){o||(L(e.$$.fragment,l),o=!0)},o(l){j(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function _e(r){let e,o,l,t,n,i;const f=[ue,de],p=[];function u(m,g){return m[2].children?0:1}return t=u(r),n=p[t]=f[t](r),{c(){e=_("link"),o=E(),l=_("ul"),n.c(),d(e,"rel","stylesheet"),d(e,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"),d(l,"class","svelte-73nk2o"),G(l,"root",r[3]===0)},m(m,g){k(document.head,e),C(m,o,g),C(m,l,g),p[t].m(l,null),i=!0},p(m,[g]){let h=t;t=u(m),t===h?p[t].p(m,g):(R(),j(p[h],1,1,()=>{p[h]=null}),F(),n=p[t],n?n.p(m,g):(n=p[t]=f[t](m),n.c()),L(n,1),n.m(l,null)),g&8&&G(l,"root",m[3]===0)},i(m){i||(L(n),i=!0)},o(m){j(n),i=!1},d(m){N(e),m&&N(o),m&&N(l),p[t].d()}}}function he(r,e,o){let l,t,n=A,i=()=>(n(),n=ce(a,s=>o(17,t=s)),a),f;r.$$.on_destroy.push(()=>n());let{treeName:p="tree-view"}=e,{driver:u="INDEXEDDB"}=e,{dbName:m="svelte-tree-db"}=e,{parentNodeState:g=Q(!1)}=e,{node:h}=e,{level:y=0}=e,{parent:P=void 0}=e,c=Q({checked:new Set([]),indeterminate:new Set([])}),{childToParentList:a=Q({checked:new Set([]),indeterminate:new Set([])})}=e;i();let b=!1,w=Z(h.props.id+"-current-node-state",h.props.defaultVisible,{driver:u,storeName:p,dbName:m});$(r,w,s=>o(7,l=s));let S=Z(h.props.id+"-current-node-expansion-state",!0,{driver:u,storeName:p,dbName:m});if($(r,S,s=>o(8,f=s)),h.children){let s=h.children.length;c.subscribe(v=>{v.checked.size===0?(J(w,l=!1,l),o(6,b=!1),t.indeterminate.delete(h.props.id)):v.checked.size===s?(J(w,l=!0,l),o(6,b=!1),t.indeterminate.delete(h.props.id)):(o(6,b=!0),t.indeterminate.add(h.props.id)),v.indeterminate.size>0&&(o(6,b=!0),t.indeterminate.add(h.props.id)),a.set(t)})}w.subscribe(s=>{s?t.checked.add(h.props.id):t.checked.delete(h.props.id),a.set(t)}),g.subscribe(s=>{J(w,l=s,l)});function z(){f=this.checked,S.set(f)}function T(){l=this.checked,w.set(l),b=this.indeterminate,o(6,b)}function H(){l=this.checked,w.set(l),b=this.indeterminate,o(6,b)}return r.$$set=s=>{"treeName"in s&&o(0,p=s.treeName),"driver"in s&&o(1,u=s.driver),"dbName"in s&&o(12,m=s.dbName),"parentNodeState"in s&&o(13,g=s.parentNodeState),"node"in s&&o(2,h=s.node),"level"in s&&o(3,y=s.level),"parent"in s&&o(4,P=s.parent),"childToParentList"in s&&i(o(5,a=s.childToParentList))},[p,u,h,y,P,a,b,l,f,c,w,S,m,g,z,T,H]}class se extends M{constructor(e){super();V(this,e,he,_e,K,{treeName:0,driver:1,dbName:12,parentNodeState:13,node:2,level:3,parent:4,childToParentList:5})}}function ke(r){let e,o,l,t,n;return{c(){e=_("div"),o=_("div"),l=_("label"),l.textContent="TreeItem Component",t=E(),n=_("input"),d(l,"class","svelte-1vnkkgg"),d(n,"type","checkbox"),n.checked=r[0],d(n,"class","svelte-1vnkkgg"),d(o,"class","wrapper svelte-1vnkkgg")},m(i,f){C(i,e,f),k(e,o),k(o,l),k(o,t),k(o,n)},p(i,[f]){f&1&&(n.checked=i[0])},i:A,o:A,d(i){i&&N(e)}}}function be(r,e,o){let{controlChecked:l=!1}=e,{props:t}=e;return r.$$set=n=>{"controlChecked"in n&&o(0,l=n.controlChecked),"props"in n&&o(1,t=n.props)},[l,t]}class B extends M{constructor(e){super();V(this,e,be,ke,K,{controlChecked:0,props:1})}}function ve(r){let e,o,l,t,n;return{c(){e=_("div"),o=_("div"),l=_("label"),l.textContent="TreeItem Component",t=E(),n=_("input"),d(l,"class","svelte-1skihvj"),d(n,"type","checkbox"),n.checked=r[0],d(n,"class","svelte-1skihvj"),d(o,"class","wrapper svelte-1skihvj")},m(i,f){C(i,e,f),k(e,o),k(o,l),k(o,t),k(o,n)},p(i,[f]){f&1&&(n.checked=i[0])},i:A,o:A,d(i){i&&N(e)}}}function ge(r,e,o){let{controlChecked:l=!1}=e,{props:t}=e;return r.$$set=n=>{"controlChecked"in n&&o(0,l=n.controlChecked),"props"in n&&o(1,t=n.props)},[l,t]}class X extends M{constructor(e){super();V(this,e,ge,ve,K,{controlChecked:0,props:1})}}function we(r){let e,o,l,t,n;return{c(){e=_("div"),o=_("div"),l=_("label"),l.textContent="TreeItem Component",t=E(),n=_("input"),d(l,"class","svelte-1gy79pl"),d(n,"type","checkbox"),n.checked=r[0],d(n,"class","svelte-1gy79pl"),d(o,"class","wrapper svelte-1gy79pl")},m(i,f){C(i,e,f),k(e,o),k(o,l),k(o,t),k(o,n)},p(i,[f]){f&1&&(n.checked=i[0])},i:A,o:A,d(i){i&&N(e)}}}function Ne(r,e,o){let{controlChecked:l=!1}=e,{props:t}=e;return r.$$set=n=>{"controlChecked"in n&&o(0,l=n.controlChecked),"props"in n&&o(1,t=n.props)},[l,t]}class fe extends M{constructor(e){super();V(this,e,Ne,we,K,{controlChecked:0,props:1})}}const Ce={props:{id:"root-node",label:"root",component:fe},children:[{props:{id:"node1",label:"node1",component:X},children:[{props:{id:"item1-1",label:"item1.1",component:B}},{props:{id:"item1-2",label:"item1.2",component:B}},{props:{id:"node11",label:"node1",component:X},children:[{props:{id:"item11-1",label:"item11.1",component:B}},{props:{id:"item11-2",label:"item11.2",component:B}}]}]},{props:{id:"node2",label:"node2",component:X},children:[{props:{id:"item2-1",label:"item2.1",component:B}},{props:{id:"item2-2",label:"item2.2",component:B}}]}]};function Te(r){let e,o,l,t,n,i,f,p,u,m,g,h,y,P;return l=new fe({}),f=new X({}),g=new B({}),y=new se({props:{node:Ce,treeName:"test-tree"}}),{c(){e=_("p"),e.textContent="Custom componenet 1:",o=E(),O(l.$$.fragment),t=E(),n=_("p"),n.textContent="Custom componenet 2:",i=E(),O(f.$$.fragment),p=E(),u=_("p"),u.textContent="Custom componenet 3:",m=E(),O(g.$$.fragment),h=E(),O(y.$$.fragment)},m(c,a){C(c,e,a),C(c,o,a),q(l,c,a),C(c,t,a),C(c,n,a),C(c,i,a),q(f,c,a),C(c,p,a),C(c,u,a),C(c,m,a),q(g,c,a),C(c,h,a),q(y,c,a),P=!0},p:A,i(c){P||(L(l.$$.fragment,c),L(f.$$.fragment,c),L(g.$$.fragment,c),L(y.$$.fragment,c),P=!0)},o(c){j(l.$$.fragment,c),j(f.$$.fragment,c),j(g.$$.fragment,c),j(y.$$.fragment,c),P=!1},d(c){c&&N(e),c&&N(o),D(l,c),c&&N(t),c&&N(n),c&&N(i),D(f,c),c&&N(p),c&&N(u),c&&N(m),D(g,c),c&&N(h),D(y,c)}}}class Se extends M{constructor(e){super();V(this,e,null,Te,K,{})}}new Se({target:document.body});
